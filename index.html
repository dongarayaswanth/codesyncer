<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Syncer - Hacker Terminal</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" type='text/css' href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body class="theme-black">
    <div class="full-screen-layout" style="grid-template-columns: 1fr;">
        <header>
            <div style="display: flex; align-items: center;">
                <h1>>_ Code Syncer</h1>
                <nav class="main-nav">
                    <a href="index.html" class="nav-link active">Home</a>
                    <a href="repository.html" class="nav-link">Repository</a>
                    <a href="aichat.html" class="nav-link">AI Chat</a>
                    <a href="contact.html" class="nav-link">Contact</a>
                    <a href="about.html" class="nav-link">About</a>
                </nav>
            </div>
            <div style="display: flex; gap: 10px; align-items: center;">
                <div class="font-controls" style="display: flex; gap: 5px; align-items: center; margin-right: 10px;">
                    <button id="decreaseFontBtn" class="btn btn-small" style="font-weight: bold; width: 30px;">-</button>
                    <div id="fontSizeDisplay" style="padding: 5px 10px; border: 1px solid var(--border-color); background: var(--input-bg); border-radius: var(--border-radius); min-width: 40px; text-align: center; font-size: 0.9rem;">14px</div>
                    <button id="increaseFontBtn" class="btn btn-small" style="font-weight: bold; width: 30px;">+</button>
                </div>
                <button id="settingsBtn" class="btn-icon" title="Profile Settings">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                </button>
                <div class="theme-selector">
                    <select id="themeSelect">
                        <option value="theme-black">Black (Default)</option>
                        <option value="theme-white">White (Light)</option>
                        <option value="theme-green">Green (Matrix)</option>
                        <option value="theme-orange">Orange (Retro)</option>
                        <option value="theme-blue">Blue (Cyber)</option>
                        <option value="theme-dark">Dark (Modern)</option>
                    </select>
                </div>
            </div>
        </header>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Configuration</h2>
                    <span id="closeSettingsBtn" class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="usernameInput">GitHub Username</label>
                        <input type="text" id="usernameInput" class="text-input" placeholder="e.g. johndoe">
                    </div>
                    <div class="form-group">
                        <label for="repoInput">Repository Name</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="repoInput" class="text-input" style="flex: 1;" placeholder="e.g. codesyncer">
                            <button id="createRepoBtn" class="btn btn-small" title="Create this repository on GitHub">Create Repo</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="tokenInput">GitHub Personal Access Token</label>
                        <input type="password" id="tokenInput" class="text-input" placeholder="ghp_...">
                        <p style="font-size: 0.8rem; margin-top: 5px; opacity: 0.7;">
                            Token is stored locally. <a href="https://github.com/settings/tokens" target="_blank" style="color: var(--primary-color);">Generate a token</a> with 'repo' scope.
                        </p>
                    </div>
                    <div class="form-group">
                        <label for="aiKeyInput">OpenRouter API Key (Optional)</label>
                        <input type="password" id="aiKeyInput" class="text-input" placeholder="sk-or-...">
                        <p style="font-size: 0.8rem; margin-top: 5px; opacity: 0.7;">
                            Required for AI code generation. Stored locally. <a href="https://openrouter.ai/keys" target="_blank" style="color: var(--primary-color);">Get API Key</a>
                        </p>
                    </div>

                    <hr style="border: 0; border-top: 1px solid var(--border-color); margin: 20px 0;">
                    
                    <h3>Folder Security</h3>
                    <div class="form-group">
                        <label for="folderPassInput">Folder Password (Default: 0000)</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="password" id="folderPassInput" class="text-input" style="flex: 1;" placeholder="New Password">
                            <button id="changeFolderPassBtn" class="btn btn-small">Change</button>
                        </div>
                    </div>

                    <button id="saveTokenBtn" class="btn">Save Configuration</button>
                </div>
            </div>
        </div>

        <!-- File View Modal -->
        <div id="fileViewModal" class="modal file-view-modal">
            <div class="modal-content file-view-content">
                <div class="modal-header">
                    <h2 id="viewFileName">Filename.ext</h2>
                    <span id="closeFileViewBtn" class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div id="viewFileDescription" class="file-description"></div>
                    <div class="code-container">
                        <pre id="viewFileCode" class="code-block"></pre>
                    </div>
                    <div class="file-view-actions">
                        <button id="downloadFileBtn" class="btn">Download File</button>
                        <button class="btn btn-secondary" onclick="document.getElementById('fileViewModal').style.display='none'">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Modal -->
        <div id="aiModal" class="modal">
            <div class="modal-content ai-modal-content">
                <div class="modal-header">
                    <h2 style="display: flex; align-items: center; gap: 10px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="10" x="3" y="11" rx="2"/><circle cx="12" cy="5" r="2"/><path d="M12 7v4"/><line x1="8" x2="8" y1="16" y2="16"/><line x1="16" x2="16" y1="16" y2="16"/></svg>
                        AI Code Generator
                    </h2>
                    <span id="closeAiModalBtn" class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="aiPromptInput">Describe the code you want:</label>
                        <textarea id="aiPromptInput" class="text-input" style="min-height: 80px; resize: vertical;" placeholder="e.g. Create a Python function to calculate Fibonacci sequence..."></textarea>
                    </div>
                    <button id="aiSubmitBtn" class="btn" style="width: 100%;">Generate Code</button>
                    
                    <div id="aiResultContainer" style="display: none; margin-top: 20px; flex-grow: 1; display: flex; flex-direction: column;">
                        <label>Preview:</label>
                        <div class="code-container" style="flex-grow: 1; margin-bottom: 10px;">
                            <pre id="aiCodePreview" class="code-block"></pre>
                        </div>
                        <div style="display: flex; gap: 10px; justify-content: flex-end;">
                            <button id="aiRejectBtn" class="btn btn-secondary">Discard</button>
                            <button id="aiAcceptBtn" class="btn">Accept & Insert</button>
                        </div>
                    </div>
                    <div id="aiLoading" style="display: none; text-align: center; margin-top: 20px;">
                        <p>ðŸ¤– Thinking...</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="editor-section">
            <div class="controls-row" style="display: flex; gap: 15px; align-items: flex-end; margin-bottom: 15px; flex-wrap: wrap;">
                <div class="form-group" style="flex: 0 0 auto; margin-bottom: 0;">
                    <div class="custom-select-wrapper">
                        <div class="custom-select" id="customLanguageSelect">
                            <div class="custom-select-trigger">
                                <i class="devicon-python-plain"></i> <span>Python</span>
                            </div>
                            <div class="custom-options">
                                <div class="custom-option selected" data-value="python"><i class="devicon-python-plain"></i> Python</div>
                                <div class="custom-option" data-value="java"><i class="devicon-java-plain"></i> Java</div>
                                <div class="custom-option" data-value="javascript"><i class="devicon-javascript-plain"></i> JavaScript</div>
                                <div class="custom-option" data-value="cpp"><i class="devicon-cplusplus-plain"></i> C++</div>
                                <div class="custom-option" data-value="csharp"><i class="devicon-csharp-plain"></i> C#</div>
                                <div class="custom-option" data-value="go"><i class="devicon-go-plain"></i> Go</div>
                                <div class="custom-option" data-value="rust"><i class="devicon-rust-plain"></i> Rust</div>
                                <div class="custom-option" data-value="php"><i class="devicon-php-plain"></i> PHP</div>
                                <div class="custom-option" data-value="ruby"><i class="devicon-ruby-plain"></i> Ruby</div>
                                <div class="custom-option" data-value="swift"><i class="devicon-swift-plain"></i> Swift</div>
                                <div class="custom-option" data-value="kotlin"><i class="devicon-kotlin-plain"></i> Kotlin</div>
                                <div class="custom-option" data-value="typescript"><i class="devicon-typescript-plain"></i> TypeScript</div>
                                <div class="custom-option" data-value="sql"><i class="devicon-mysql-plain"></i> SQL</div>
                                <div class="custom-option" data-value="html"><i class="devicon-html5-plain"></i> HTML</div>
                                <div class="custom-option" data-value="css"><i class="devicon-css3-plain"></i> CSS</div>
                                <div class="custom-option" data-value="other"><i class="devicon-vscode-plain"></i> Other</div>
                            </div>
                        </div>
                        <input type="hidden" id="language" value="python">
                    </div>
                </div>

                <div class="form-group" style="flex-grow: 1; margin-bottom: 0;">
                    <label for="codeTitle">Filename / Title</label>
                    <input type="text" id="codeTitle" class="text-input" placeholder="Title or filename...">
                </div>
                <button id="aiGenerateBtn" class="btn btn-small" style="height: 42px; align-self: flex-end; border-color: var(--primary-color); color: var(--primary-color); display: flex; align-items: center; gap: 8px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="10" x="3" y="11" rx="2"/><circle cx="12" cy="5" r="2"/><path d="M12 7v4"/><line x1="8" x2="8" y1="16" y2="16"/><line x1="16" x2="16" y1="16" y2="16"/></svg>
                    AI Generate
                </button>
            </div>

            <div class="form-group" id="codeEditorContainer" style="flex-grow: 1; display: flex; flex-direction: column;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                    <label for="codeInput" style="margin-bottom: 0;">Code Input</label>
                    <button id="fullScreenBtn" class="btn btn-small" title="Toggle Full Screen" style="padding: 2px 8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg>
                    </button>
                </div>
                <textarea 
                    id="codeInput" 
                    class="code-textarea" 
                    placeholder="// Write your code here..."
                    spellcheck="false"
                ></textarea>
            </div>

            <div class="form-group">
                <label for="description">Description</label>
                <textarea 
                    id="description" 
                    class="description-textarea" 
                    placeholder="Add comments..."
                    style="min-height: 60px;"
                ></textarea>
            </div>

            <div class="form-group">
                <label for="filePassword">ðŸ”’ Password Protection (Optional)</label>
                <input type="password" id="filePassword" class="text-input" placeholder="Enter password to encrypt this file...">
            </div>

            <div class="button-group">
                <button id="saveBtn" class="btn">Submit Code</button>
                <button id="deleteBtn" class="btn btn-danger-icon" style="display: none;">Delete File</button>
                <button id="clearBtn" class="btn btn-secondary">Clear</button>
            </div>

            <div id="status" class="status-message"></div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>